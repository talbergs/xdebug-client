<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8">
        <link rel="icon">
        <!-- <link rel="stylesheet" href="index.css"> -->
        <link rel="stylesheet" href="css/bulma.min.css">
        <link rel="stylesheet" href="//cdn.materialdesignicons.com/5.4.55/css/materialdesignicons.min.css">
        <!-- <link href="https://fonts.googleapis.com/css?family=EB+Garamond&display=swap" rel="stylesheet"> -->
        <!-- <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"> -->
        <!-- Latest compiled and minified CSS -->
        <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous"> -->
        <title>Xdebug Ide</title>
        <script type="module" src="index.mjs"></script>
    </head>
    <body>
        <div id="app">
            <div class="tabs">
                <ul>
                    <li v-bind:class="{ 'is-active': hl_session_id==0 }">
                        <a
                            v-on:click="show_add_session_modal = true;hl_session_id = 0"
                            >+</a>
                    </li>
                    <li
                        v-for="(session, idx) in sessions"
                        :key="session.id"
                        v-bind:class="{ 'is-active': hl_session_id==session.id }"
                    >
                        <a
                            v-on:click="hl_session_id = session.id;hl_session_idx = idx"
                            >{{ session.connection }}:{{ session.state }}</a>
                    </li>
                </ul>
            </div>

            <div
                v-if="show_add_session_modal"
                class="modal is-active"
            >
                <div
                    v-on:click="show_add_session_modal = false"
                    class="modal-background"
                ></div>
                <div class="modal-content">
                    watevs..
                </div>
                <button
                    v-on:click="show_add_session_modal = false"
                    class="modal-close is-large"
                ></button>
            </div>

            <div class="columns">
                <div class="column is-one-fifth">
                    <aside class="menu">
                        <p class="menu-label">
                            General
                        </p>
                        <ul class="menu-list">
                            <li>
                                <a
                                    v-on:click="hl_menu = 'settings'"
                                    v-bind:class="{ 'is-active': hl_menu == 'settings' }"
                                >
                                    <span class="icon">
                                        <i class="mdi mdi-cog-outline"></i>
                                    </span>
                                    Settings
                                </a>
                            </li>
                            <li>
                                <a
                                    v-on:click="hl_menu = 'code'"
                                    v-bind:class="{ 'is-active': hl_menu == 'code' }"
                                >
                                    <span class="icon">
                                        <i class="mdi mdi-code-tags"></i>
                                    </span>
                                    Code
                                </a>
                            </li>
                            <li>
                                <a
                                    v-on:click="hl_menu = 'info'"
                                    v-bind:class="{ 'is-active': hl_menu == 'info' }"
                                >
                                    <span class="icon">
                                        <i class="mdi mdi-information-outline"></i>
                                    </span>
                                    Info
                                </a>
                            </li>
                        </ul>
                    </aside>
                </div>

                <div class="column">

                    <div v-if="hl_menu == 'info'">
                        info
                        <br />
                        IDEKEY: {{sessions[hl_session_idx].info.idekey}}
                        <br />
                        FILEURI: {{sessions[hl_session_idx].info.fileuri}}
                        <br />
                        APPID: {{sessions[hl_session_idx].info.appid}}
                        <br />
                        PROTOCOL_VERSION: {{sessions[hl_session_idx].info.protocol_version}}
                        <br />
                        ENGINE_VERSION: {{sessions[hl_session_idx].info.engine_version}}
                        <br />
                    </div>

                    <div v-if="hl_menu == 'settings'">
                        <div class="field is-horizontal">
                            <div class="field-label">
                                <label class="label">Break on first line</label>
                            </div>
                            <div class="field-body">
                                <div class="field is-narrow">
                                    <div class="control">
                                        <label class="radio">
                                            <input type="radio" name="member">
                                            Yes
                                        </label>
                                        <label class="radio">
                                            <input type="radio" name="member">
                                            No
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="field is-horizontal">
                            <div class="field-label">
                                <label class="label">Max depth</label>
                            </div>
                            <div class="field-body">
                                <div class="field">
                                    <div class="control">
                                        <input
                                            class="input is-small"
                                            type="number"
                                            placeholder="Small sized input"
                                        >
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="field is-horizontal">
                            <div class="field-label">
                                <label class="label">Max children</label>
                            </div>
                            <div class="field-body">
                                <div class="field">
                                    <div class="control">
                                        <input
                                            class="input is-small"
                                            type="number"
                                            placeholder="Small sized input"
                                        >
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="field is-horizontal">
                            <div class="field-label">
                                <label class="label">Max data</label>
                            </div>
                            <div class="field-body">
                                <div class="field">
                                    <div class="control">
                                        <input
                                            class="input is-small"
                                            type="number"
                                            placeholder="Small sized input"
                                        >
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div v-if="hl_menu == 'code'">
                        code
                    </div>

                    <!-- <pre> -->
                    <!--     number -->
                    <!-- </pre> -->
                </div>
            </div>
        </div>

        <!-- <div id="app"> -->

        <!--     <section id="right-side"> -->
        <!--         <div> -->
        <!--             <div> -->
        <!--                 <label>Listening:</label><input type="checkbox" /> -->
        <!--                 <sub> -->
        <!--                     Do or do not listen -->
        <!--                 </sub> -->
        <!--             </div> -->
        <!--             <div> -->
        <!--                 <label>Host:</label><input type="text" disabled value="0.0.0.0"/> -->
        <!--                 <sub> -->
        <!--                     Domain name, IP or file path to unix socket. -->
        <!--                     Listen to this place for xdebug server to connect. -->
        <!--                 </sub> -->
        <!--             </div> -->
        <!--             <div> -->
        <!--                 <label>Port:</label><input type="number" value="9000" disabled/> -->
        <!--                 <sub> -->
        <!--                     (Optional) If host is unix:///sock -->
        <!--                 </sub> -->
        <!--             </div> -->
        <!--             <div> -->
        <!--                 <label>IDE Key:</label><input type="text"/> -->
        <!--                 <sub> -->
        <!--                     (Optional) If various xdebug servers will connect to -->
        <!--                     this IDE connection, respond only to thous who -->
        <!--                     send the same idekey. Else accept any. -->
        <!--                 </sub> -->
        <!--             </div> -->
        <!--         </div> -->

        <!--         <section v-if="view == 'session'" id="session"> -->
        <!--             <div style="display: grid; grid-template-columns: auto auto;"> -->

        <!--                 <label>fileuri</label> -->
        <!--                 <div>{{xdebug.fileuri}}</div> -->

        <!--                 <label>engine version</label> -->
        <!--                 <div>{{xdebug.engine_version}}</div> -->
        <!--             </div> -->

        <!--             <button v-on:click="ws('xdebug:stack_get')">ws xdebug:stack_get</button> -->
        <!--             <button v-on:click="ws('xdebug:source')">ws xdebug:source</button> -->
        <!--         </section> -->

        <!--         <section v-if="view == 'code'" id="code"> -->
        <!--             <button v-on:click="ws('xdebug:stack_get')">ws xdebug:stack_get</button> -->
        <!--             <button v-on:click="ws('xdebug:source')">ws xdebug:source</button> -->
        <!--             <button v-on:click="ws('xdebug:status')">ws xdebug:status</button> -->
        <!--             <button v-on:click="ws('xdebug:run')">ws xdebug:run</button> -->
        <!--             <button v-on:click="ws('xdebug:breakpoint_set')">ws xdebug:breakpoint_set</button> -->
        <!--             <button v-on:click="ws('xdebug:breakpoint_list')">ws xdebug:breakpoint_list</button> -->
        <!--             <button v-on:click="ws('xdebug:wrong_command')">ws xdebug:wrong_command</button> -->
        <!--         </section> -->

        <!--         <section v-if="view == 'settings'" id="settings"> -->
        <!--             <button v-on:click="theme_light">theme light</button> -->
        <!--             <button v-on:click="theme_dark">theme dark</button> -->
        <!--         </section> -->

        <!--         <section v-if="view == 'filetree'" id="filetree"> -->
        <!--             <ul> -->
        <!--                 <li v-for="file in files" :key="file.name">{{ file.name }}</li> -->
        <!--             </ul> -->
        <!--         </section> -->

        <!--     </section> -->

        <!--     <section id="controls"> -->

        <!--         <button v-on:click="app_view_session"> -->
        <!--             <i class="material-icons">insights</i> -->
        <!--             <span>Session</span> -->
        <!--         </button> -->

        <!--         <button v-on:click="app_view_settings"> -->
        <!--             <i class="material-icons">settings</i> -->
        <!--             <span>Settings</span> -->
        <!--         </button> -->

        <!--         <button v-on:click="app_view_filetree"> -->
        <!--             <i class="material-icons">folder</i> -->
        <!--             <span>Files</span> -->
        <!--         </button> -->

        <!--         <button v-on:click="app_view_filetree"> -->
        <!--             <i class="material-icons">bug_report</i> -->
        <!--             <span>Debug</span> -->
        <!--         </button> -->

        <!--         <button v-on:click="app_view_code"> -->
        <!--             <i class="material-icons">code</i> -->
        <!--             <span>Sources</span> -->
        <!--         </button> -->


        <!--         <button v-on:click="ws('app:state')">ws app:state</button> -->
        <!--         <button v-on:click="ws('app:files')">ws app:files</button> -->
        <!--         <button v-on:click="icon_on">icon on</button> -->
        <!--         <button v-on:click="icon_off">icon off</button> -->
        <!--     </section> -->

        <!--     <section id="statusbar"> -->
        <!--         <button v-if="ws_connedted" v-on:click="ws('exit:session')"> -->
        <!--             <i class="material-icons">wifi</i> -->
        <!--         </button> -->
        <!--         <i v-else class="material-icons">wifi_off</i> -->

        <!--         <button v-if="in_xdebub_session" v-on:click="ws('exit:session')"> -->
        <!--             <i class="material-icons">power_settings_new</i> -->
        <!--         </button> -->
        <!--         <i v-else class="material-icons">power_off</i> -->
        <!--     </section> -->

        <!--     <div class="error-toast" v-for="error in errors"> -->
        <!--         {{ error }} -->
        <!--     </div> -->
        <!-- </div> -->
    </body>
</html>
